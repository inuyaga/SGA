{% extends 'web/base.html' %}
{% load humanize %}
{% block titulo %}
Embalaje
{% endblock titulo %}

{% block contenido %}
    <section style="margin-bottom: 90px; margin-top: 90px;">
        <div class="container">
          {% if messages %}
          {% for message in messages %}
          <div {% if message.tags %} class="alert alert-{{ message.tags }}" {% endif %} role="alert">
              {{message}}
          </div>
          {% endfor %}
          {% endif %} 
        <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Envio y Embalaje</div>
            <div class="p-4">
                <p class="font-italic mb-4">Los costos de envío y adicionales se calculan en función de los
                    valores que haya ingresado.</p>
                    <form action="" method="POST">
                        {% csrf_token %}
                    <ul class="list-unstyled mb-4">
                    {% for item in domicilios %}
                        <li class="d-flex justify-content-between py-3 border-bottom">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="direccion" id="id_direccion{{item.id}}" value="{{item.id}}" {% if item.dom_activo %}checked{% endif %}>
                                <label class="form-check-label" for="id_direccion{{item.id}}">
                                  {{item.str_domicilio}}
                                </label>
                              </div>                             
                        </li>
                        
                        {% empty %}
                    
                    <a href="{% url 'web:dom_crear' %}" class="btn btn-dark rounded-pill py-2 btn-block">Añadir domicilio</a>
                    
                    {% endfor %}

                    <!-- <h4 class="mb-3">Payment</h4>
      
                  <div class="d-block my-3">
                    <div class="custom-control custom-radio">
                      <input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked="" required="">
                      <label class="custom-control-label" for="credit">Credit card</label>
                    </div>
                    <div class="custom-control custom-radio">
                      <input id="debit" name="paymentMethod" type="radio" class="custom-control-input" required="">
                      <label class="custom-control-label" for="debit">Debit card</label>
                    </div>
                    <div class="custom-control custom-radio">
                      <input id="paypal" name="paymentMethod" type="radio" class="custom-control-input" required="">
                      <label class="custom-control-label" for="paypal">Paypal</label>
                    </div>
                  </div> -->
                  <!-- <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="cc-name">Name on card</label>
                      <input type="text" class="form-control" id="cc-name" placeholder="" required="">
                      <small class="text-muted">Full name as displayed on card</small>
                      <div class="invalid-feedback">
                        Name on card is required
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="cc-number">Credit card number</label>
                      <input type="text" class="form-control" id="cc-number" placeholder="" required="">
                      <div class="invalid-feedback">
                        Credit card number is required
                      </div>
                    </div>
                  </div> -->
                  <!-- <div class="row">
                    <div class="col-md-3 mb-3">
                      <label for="cc-expiration">Expiration</label>
                      <input type="text" class="form-control" id="cc-expiration" placeholder="" required="">
                      <div class="invalid-feedback">
                        Expiration date required
                      </div>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="cc-expiration">CVV</label>
                      <input type="text" class="form-control" id="cc-cvv" placeholder="" required="">
                      <div class="invalid-feedback">
                        Security code required
                      </div>
                    </div>
                  </div> -->
                  <hr class="mb-4">
                  <button class="btn btn-primary btn-lg btn-block" type="submit">Finalizar compra</button>
                    
                </ul>
            </form>
            </div>

        </div>
        <div class="col-lg-4">
            
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                  <span class="text-muted">Resumen</span>
                  <span class="badge badge-secondary badge-pill">{{carrito_count}}</span>
                </h4>
                <ul class="list-group mb-3">
                    
                    {% for item in carrito %}
                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                        <div>
                          <h6 class="my-0">{{item.dcw_producto_id}}</h6>
                          <small class="text-muted">{{item.dcw_producto_id.producto_nombre}}</small>
                        </div>
                        <span class="text-muted">${{item.sub_total|floatformat:2}}</span>
                    </li>
                    {% endfor %}
                        
                  
                 
                  
                
                  <li class="list-group-item d-flex justify-content-between">
                    <span>Subtotal</span>
                    <strong>${{subtotal|floatformat:2}}</strong>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <span>Iva</span>
                    <strong>${{iva|floatformat:2}}</strong>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <span>Total (MXN)</span>
                    <strong>${{total|floatformat:2}}</strong>
                  </li>
                </ul>
      
                <!-- <form class="card p-2">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Promo code">
                    <div class="input-group-append">
                      <button type="submit" class="btn btn-secondary">Redeem</button>
                    </div>
                  </div>
                </form> -->
              
        </div>
    </div>
    </div>
    </section>
{% endblock contenido %}
    